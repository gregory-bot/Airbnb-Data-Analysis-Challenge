# Airbnb Data Analysis Challenge

Welcome to the Airbnb Data Analysis Challenge! This repository contains a set of Python scripts and tests designed to solve analytical problems based on Airbnb listings and reviews data. The project is structured to simulate a LeetCode-style problem set, allowing you to practice and refine your data analysis skills.

## Project Structure

```
workspace/
  ├── src/
  │   ├── data_loader.py       # Script to load sample Airbnb data
  │   ├── task1.py             # Task 1: Average price of listings
  │   ├── task2.py             # Task 2: Count short-stay listings
  │   ├── task3.py             # Task 3: Price difference between professional and non-professional hosts
  │   ├── task4.py             # Task 4: Count reviews in the last year
  │   ├── task5.py             # Task 5: Listing with best expected revenue
  │   ├── task6.py             # Task 6: Count listings per neighbourhood
  │   ├── task7.py             # Task 7: Host with the most listings
  ├── tests/
  │   └── tests_main.py        # Unit tests for all tasks
  └── requirements.txt         # Python dependencies
```

## Problem Descriptions and Solutions

### Task 1: Average Price of Listings
**Problem Statement:** Calculate the average price of all Airbnb listings.

**Solution:** Implemented in `src/task1.py`. The function cleans the price column and computes the mean.

### Task 2: Count Short-Stay Listings
**Problem Statement:** Count the number of listings with `minimum_nights` less than or equal to 7.

**Solution:** Implemented in `src/task2.py`. The function uses a boolean mask to filter and count listings.

### Task 3: Price Difference Between Professional and Non-Professional Hosts
**Problem Statement:** Calculate the difference in average price between professional hosts (≥5 listings) and non-professional hosts.

**Solution:** Implemented in `src/task3.py`. The function groups listings by host type and computes the price difference.

### Task 4: Count Reviews in the Last Year
**Problem Statement:** Count the number of reviews in the last 365 days.

**Solution:** Implemented in `src/task4.py`. The function filters reviews based on the date column.

### Task 5: Listing with Best Expected Revenue
**Problem Statement:** Identify the listing with the highest expected revenue based on reviews and price.

**Solution:** Implemented in `src/task5.py`. The function calculates expected revenue and returns the listing ID with the maximum value.

### Task 6: Count Listings per Neighbourhood
**Problem Statement:** Return a dictionary mapping each neighbourhood to the number of listings.

**Solution:** Implemented in `src/task6.py`. The function uses `value_counts` to generate the dictionary.

### Task 7: Host with the Most Listings
**Problem Statement:** Identify the host with the highest number of listings.

**Solution:** Implemented in `src/task7.py`. The function uses `value_counts` to find the host ID with the maximum count.

## Data Loading

The `src/data_loader.py` script generates sample Airbnb listings and reviews data for testing. It includes functions to create DataFrames with realistic data distributions.

## Testing

Unit tests for all tasks are provided in `tests/tests_main.py`. The tests validate the correctness of each solution using the sample data generated by `data_loader.py`.

## Setup

1. Clone the repository:
   ```bash
   git clone <repository-url>
   ```
2. Navigate to the project directory:
   ```bash
   cd airbnb-challenge
   ```
3. Install dependencies:
   ```bash
   pip install -r requirements.txt
   ```
4. Run the tests:
   ```bash
   python -m unittest discover tests
   ```

## License

This project is licensed under the MIT License. See the LICENSE file for details.